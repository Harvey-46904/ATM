mapboxgl.accessToken = 'pk.eyJ1IjoiaGFydmV5NDY5MDQiLCJhIjoiY2tvend3OXl1MHkzODJ3bXdxNGJ4MXJtayJ9.61QXAUAsuOnuAst-SIiTYg';
var map = new mapboxgl.Map({
    container: 'map', // container ID
    style: 'mapbox://styles/harvey46904/ckozxa0n12inh17o0igtcqyq5', // style URL
    center: [-77.27785543324444,1.2141190103046995], // starting position
    zoom: 12// starting zoom
});

function color(valor){
  var color= (valor >=0 && valor <=5)?"#F7DD4E":"#4ECBF7";
   //var color="#F7DD4E";
    return color;
}



function comuna (valor) {
    var paint=color(valor);
    // Add a data source containing GeoJSON data.
    map.addSource('comuna_3', {
        'type': 'geojson',
        'data': {
            'type': 'Feature',
            'geometry': {
                'type': 'Polygon',
                // These coordinates outline comuna_3.
                'coordinates': [
                    [
                        [-77.24566167905618,1.200015296810875],
                        [-77.24578588444842,1.200446088973024],
                        [-77.24590089038526,1.2005626027417264],
                        [-77.24616806606366,1.2005338549917184],
                        [-77.24635061266247,1.2005984590707328],
                        [-77.24634637512145,1.2007479427443855],
                        [-77.24614580714814,1.2008715054249137],
                        [-77.24605863957788,1.2009784199975257],
                        [-77.24615115523943,1.2010525574811481],
                        [-77.24640469046273,1.20108574280448],
                        [-77.24640610291596,1.2010836245901118],
                        [-77.24669000593849,1.2010808003053626],
                        [-77.24686771276839,1.2012168181256868],
                        [-77.24694451319459,1.2014478743608947],
                        [-77.24706609948987,1.2016216440522243],
                        [-77.24720185531453,1.2016129697142617],
                        [-77.24731631972168,1.2014474166651468],
                        [-77.24737604711777,1.2011071474641994],
                        [-77.2474636980615,1.2008620012092308],
                        [-77.24758463396478,1.2008608919489347],
                        [-77.24768116078599,1.2010993828414627],
                        [-77.2477011321763,1.201489840165408],
                        [-77.247771031051,1.2017216750115551],
                        [-77.24794689183648,1.2017412261534872],
                        [-77.24815057543816,1.2016980300437865],
                        [-77.24829459414656,1.2017823653042683],
                        [-77.2482843070963,1.201983947137208],
                        [-77.24828224968559,1.2019860040951755],
                        [-77.24806745855784,1.2021899863592154],
                        [-77.2479522435911,1.2024635616594708],
                        [-77.24806136389725,1.2026590693238433],
                        [-77.2480605579645,1.202654460040037],
                        [-77.24825804963035,1.2027771957091034],
                        [-77.24856427235738,1.2028603903029165],
                        [-77.24886166364377,1.2030146376393418],
                        [-77.2490336367166,1.2032009931683945],
                        [-77.2492155952628,1.203520459645361],
                        [-77.24942813243962,1.2038066131720058],
                        [-77.24934159185506,1.204209708665914],
                        [-77.2493271689176,1.2045214089237106],
                        [-77.2493399107529,1.2052130057410864],
                        [-77.24909360071797,1.2053250408134204],
                        [-77.24909360071797,1.2053250408134204],
                        [-77.24889433864746,1.2057854656516724],
                        [-77.24907794684287,1.2058815263336555],
                        [-77.2492631818206,1.206145123553597],
                        [-77.24962824325951,1.2064222390691413],
                        [-77.24967015732932,1.206561472616258],
                        [-77.24947545779071,1.206726389813909],
                        [-77.2495160199839,1.20691969423072],
                        [-77.24985944833657,1.2070859631860458],
                        [-77.25023667889775,1.2070535203559842],
                        [-77.25054224900731,1.206942674385246],
                        [-77.25082686295815,1.2069988575569113],
                        [-77.25129363598137,1.2075815995552404],
                        [-77.25157622056224,1.2075369904682987],
                        [-77.2520508006877,1.2072855594033456],
                        [-77.25234944455406,1.207297471704564],
                        [-77.25252420831936,1.207069201977859],
                        [-77.2528399106044,1.2069170221486871],
                        [-77.25306259350793,1.2066831160423845],
                        [-77.25322044465042,1.2066577527341593],
                        [-77.25345440259417,1.2067902055616173],
                        [-77.25389935355844,1.2068578419949745],
                        [-77.25409948625668,1.207069202870926],
                        [-77.25488310442859,1.2072721092951042],
                        [-77.25580642609361,1.2070212951940107],
                        [-77.25644389674835,1.207037358893885],
                        [-77.2570177502663,1.2065796671817424],
                        [-77.25625450929289,1.2061495192400145],
                        [-77.25781384785466,1.2059842998620525],
                        [-77.2580807998367,1.2057216433944546],
                        [-77.25874259945101,1.2052164157411767],
                        [-77.2596409140782,1.2050300156186324],
                        [-77.26095024998983,1.2051613438893582],
                        [-77.26177652958256,1.204924104015788],
                        [-77.26262822383126,1.2051189798695532],
                        [-77.26316636512797,1.2053943455816238],
                        [-77.26336975711479,1.2055976925508958],
                        [-77.26345450377545,1.2059196585555014],
                        [-77.26336551978142,1.2061399510621271],
                        [-77.26316212779545,1.2063771891268829],
                        [-77.26726512939007,1.205745715980001],
                        [-77.26720394853203,1.2051622738721477],
                        [-77.26782234940055,1.2039785986046638],
                        [-77.26911098037618,1.2044028102179993],
                        [-77.26935456306114,1.2036408004211836],
                        [-77.26808950338409,1.2031458871123988],
                        [-77.26689516247933,1.2024074442922057],
                        [-77.26515079778937,1.2012212235592727],
                        [-77.2650172201885,1.2014097622523394],
                        [-77.26158349218224,1.200844146549997],
                        [-77.26045986883156,1.200506347978731],
                        [-77.25842445163778,1.199395642786186],
                        [-77.25733141255284,1.1988138453870931],
                        [-77.25683621170316,1.198490958981239],
                        [-77.25488710931427,1.1996702950024911],
                        [-77.2545482614857,1.1996844105666327],
                        [-77.2539157395716,1.2002186900514715],
                        [-77.25272711328773,1.2002723581704657],
                        [-77.25192958339386,1.1998200125627534],
                        [-77.2507793069197,1.1999810287274784],
                        [-77.25057225588944,1.2005177099166673],
                        [-77.25060293011649,1.2010160566405688],
                        [-77.24945264661619,1.2010620578721927],
                        [-77.24931461259575,1.2003490386972118],
                        [-77.24879813977304,1.199055049849349],
                        [-77.24824600369294,1.1997144012327396],
                        [-77.24760184493334,1.198970714196193],
                        [-77.24660493573435,1.1986947077097625],
                        [-77.24576640360704,1.199616385385724],
                        [-77.24529095309339,1.199601051634076],
                    ]
                ]
            }
        }
    });

    // Add a new layer to visualize the polygon.
    map.addLayer({
        'id': 'comuna_3',
        'type': 'fill',
        'source': 'comuna_3', // reference the data source
        'layout': {},
        'paint': {
            'fill-color': paint, // blue color fill
            'fill-opacity': 0.4
        }
    });
    // Add a black outline around the polygon.
    map.addLayer({
        'id': 'outline',
        'type': 'line',
        'source': 'comuna_3',
        'layout': {},
        'paint': {
        'line-color': '#000',
        'line-width': 3
        }
    });
}